{% extends "layout_2.html" %}
{% block content %}
    <form action='/product_update/{{ product_list[0][0] }}' method="POST"  enctype="multipart/form-data">                 <!-- 파일 post 시 enctype 필요 -->
        <fieldset class="form-group">
            <legend class="border-bottom mb-4">상품을 정보를 수정해주세요.</legend>
            <div class="form-group">
            <label for="exampleFormControlSelect1">상품 태그</label>
                {{ update_form.product_tag(class="form-control") }}
                {{ update_form.product_name.label(class="form-control-label") }}
                {% if update_form.product_name.errors %}
                    {{ update_form.product_name(class="form-control form-control-lg is-invalid") }}
                    <div class="invalid-feedback">
                        {% for error in update_form.product_name.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% else %}
                    {{ update_form.product_name(class="form-control", placeholder=product_list[1]) }}
                {% endif %}
            </div>

             <div class="form-group">
                {{ update_form.product_intro.label(class="form-control-label") }}
                {% if update_form.product_intro.errors %}
                    {{ update_form.product_intro(class="form-control form-control-lg is-invalid") }}
                    <div class="invalid-feedback">
                        {% for error in update_form.product_intro.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% else %}
                    {{ update_form.product_intro(class="textarea form-control", cols="5", rows="5" , placeholder=product_list[2]) }}
                {% endif %}
            </div>
            <div class="form-group">
                {{ update_form.product_pic.label(class="form-control-label") }}
                {% if update_form.product_pic.errors %}
                    {{ update_form.product_pic(class="form-control form-control-lg is-invalid") }}
                    <div class="invalid-feedback">
                        {% for error in form.product_pic.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% else %}
                <p><input type=file name=file value="{{request.form.product_pic}}"></p>   <!-- request.update_form.~ 에러발생 form 이름 변경 없이 사용 -->
                {% endif %}
            </div>

         </fieldset>
        <div class="login__content login__content--trigger">
            {{ update_form.submit(class="btn btn-sm btn-outline-secondary", type="submit", value="Update") }}
        </div>

     </form>
    <p></p>
    <p></p>
    <form action='/product_update/{{ product_list[0][0] }}' method='POST'>
        {{ del_form.accept(class="btn btn-sm btn-outline-secondary") }}
        {{ del_form.submit1(class="btn btn-sm btn-outline-secondary", type="submit", value="Delete") }}
    </form>

 {% endblock content %}
